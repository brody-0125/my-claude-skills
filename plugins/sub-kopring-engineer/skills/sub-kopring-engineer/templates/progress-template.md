# Session Progress

> 세션 간 아키텍처 결정 및 학습 내용을 축적하는 파일

## 사용 방법

이 파일은 `.sub-kopring-engineer/PROGRESS.md`로 저장되어 세션 간 맥락을 유지한다.
각 세션에서 중요한 결정, 해결한 이슈, 발견한 패턴을 기록한다.

---

## {YYYY-MM-DD} Session

### 작업 요약
<!-- 이번 세션에서 수행한 주요 작업 -->
-

### 아키텍처 결정
<!-- Port/Adapter 변경, 레이어 구조 변경, 모듈 추가 등 -->
| 결정 | 근거 | 영향 범위 |
|------|------|----------|
| | | |

### 발견된 이슈
<!-- 에러, 충돌, 아키텍처 위반 등과 해결 방법 -->
| 이슈 | 원인 | 해결 방법 |
|------|------|----------|
| | | |

### 반복 에러 패턴
<!-- 2회 이상 반복된 에러를 별도 추적. 3회 이상 시 error-playbook 승격 대상 -->
| 에러 시그니처 | 발생 횟수 | 최근 발생일 | 원인 | 해결 방법 | 승격 여부 |
|-------------|----------|-----------|------|----------|----------|
| | | | | | |

### 학습된 패턴
<!-- 프로젝트 특화 패턴 (사용자 확인됨) -->
| 패턴 유형 | 패턴 내용 | 적용 위치 |
|----------|----------|----------|
| | | |

### 다음 세션 TODO
<!-- 미완료 작업, 후속 작업 -->
- [ ]

---

## 기록 시점 가이드

| 시점 | 기록 내용 |
|------|----------|
| Plan 완료 | 아키텍처 결정 사항 (Port 추가, 모듈 구조 변경 등) |
| 에러 해결 | 이슈 + 원인 분석 + 해결 방법 |
| 패턴 발견 | 사용자가 확인한 프로젝트 특화 패턴 |
| 에러 반복 감지 | 동일 에러 2회 이상 발생 시 반복 에러 패턴 테이블에 기록 |
| Loop 완료 | 위반 해결 히스토리 |
| 세션 종료 | 다음 세션 TODO 정리 |

---

## 활용 예시

```markdown
## 2026-02-06 Session

### 작업 요약
- Order 도메인에 취소 기능 추가
- PaymentPort 인터페이스 확장

### 아키텍처 결정
| 결정 | 근거 | 영향 범위 |
|------|------|----------|
| OrderPort에 cancelOrder() 추가 | 결제 취소는 Order 도메인 책임 | :core, :application |
| CancelEvent 발행 | 환불 처리는 Payment 도메인에 위임 | :shared-kernel |

### 발견된 이슈
| 이슈 | 원인 | 해결 방법 |
|------|------|----------|
| CircularDependencyException | OrderService ↔ PaymentService 상호 의존 | EventPublisher로 분리 |
| NullPointerException in test | Stub이 cancelOrder 미구현 | FakeOrderPort에 메서드 추가 |

### 반복 에러 패턴
| 에러 시그니처 | 발생 횟수 | 최근 발생일 | 원인 | 해결 방법 | 승격 여부 |
|-------------|----------|-----------|------|----------|----------|
| Type mismatch: OrderStatus | 3 | 2026-02-06 | toModel() 누락 | Entity→Model 변환 추가 | ✅ 승격 제안 |

### 학습된 패턴
| 패턴 유형 | 패턴 내용 | 적용 위치 |
|----------|----------|----------|
| Custom Annotation | @ValidOrder (주문 상태 검증) | domain-model |
| Naming Pattern | *CancelUseCase (취소 관련 UseCase) | application |

### 다음 세션 TODO
- [ ] PaymentAdapter 환불 로직 구현
- [ ] 취소 이벤트 리스너 테스트 추가
```

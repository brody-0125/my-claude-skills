[
  {
    "id": "TC-001",
    "query": "B-tree vs LSM storage engine comparison",
    "expected": {
      "systems": ["DB"],
      "domains": ["A", "B"],
      "be_clusters": [],
      "min_confidence": 0.85
    },
    "description": "Single-system DB query matching domains A and B"
  },
  {
    "id": "TC-002",
    "query": "kubernetes deployment monitoring",
    "expected": {
      "systems": ["IF"],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "Infrastructure system detection"
  },
  {
    "id": "TC-003",
    "query": "OAuth JWT token management",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["A"],
      "min_confidence": 0.85
    },
    "description": "Security system detection with AuthN cluster"
  },
  {
    "id": "TC-004",
    "query": "implement saga pattern with circuit breaker and tests",
    "expected": {
      "systems": ["BE"],
      "domains": [],
      "be_clusters": ["B", "R"],
      "min_confidence": 0.85
    },
    "description": "Multi-cluster BE query matching Boundary and Resilience"
  },
  {
    "id": "TC-005",
    "query": "shard database and update backend connection pool",
    "expected": {
      "systems": ["DB", "BE"],
      "domains": ["F"],
      "be_clusters": [],
      "min_confidence": 0.60
    },
    "description": "Cross-system DB+BE query"
  },
  {
    "id": "TC-006",
    "query": "React component state management",
    "expected": {
      "systems": [],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.0
    },
    "description": "No match — frontend query not in any domain"
  },
  {
    "id": "TC-007",
    "query": "database transaction isolation level with deadlock prevention",
    "expected": {
      "systems": ["DB"],
      "domains": ["C"],
      "be_clusters": [],
      "min_confidence": 0.85
    },
    "description": "DB concurrency domain with domain sub-detection"
  },
  {
    "id": "TC-008",
    "query": "terraform infrastructure as code with CI/CD pipeline",
    "expected": {
      "systems": ["IF"],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "Infrastructure system with multiple IF keywords"
  },
  {
    "id": "TC-009",
    "query": "fixture monkey test generation with coverage mutation analysis",
    "expected": {
      "systems": ["BE"],
      "domains": [],
      "be_clusters": ["T"],
      "min_confidence": 0.85
    },
    "description": "BE Test cluster detection"
  },
  {
    "id": "TC-010",
    "query": "design multi-tenant schema with RBAC and API rate limiting",
    "expected": {
      "systems": ["DB", "BE", "SE"],
      "domains": ["D"],
      "be_clusters": [],
      "se_clusters": ["Z", "N"],
      "min_confidence": 0.60
    },
    "description": "3-system cross-system query (DB+BE+SE) with AuthZ+Network clusters"
  },
  {
    "id": "TC-011",
    "query": "hello world foo bar",
    "expected": {
      "systems": [],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.0
    },
    "description": "Edge case — no domain keywords match"
  },
  {
    "id": "TC-012",
    "query": "   ",
    "expected": {
      "systems": [],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.0
    },
    "description": "Edge case — whitespace-only input"
  },
  {
    "id": "TC-013",
    "query": "ISOLATION LEVEL MVCC",
    "expected": {
      "systems": ["DB"],
      "domains": ["C"],
      "be_clusters": [],
      "min_confidence": 0.85
    },
    "description": "Case insensitivity — uppercase keywords should match DB domain C"
  },
  {
    "id": "TC-014",
    "query": "security monitoring database api",
    "expected": {
      "systems": ["DB", "BE", "IF", "SE"],
      "domains": [],
      "be_clusters": ["R"],
      "min_confidence": 0.60
    },
    "description": "4-system ambiguous query matching all systems (monitoring triggers BE R-cluster)"
  },
  {
    "id": "TC-015",
    "query": "the database engine crashed",
    "expected": {
      "systems": ["DB"],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "False positive guard — engine should NOT match BE gin keyword"
  },
  {
    "id": "TC-016",
    "query": "capital investment strategy",
    "expected": {
      "systems": [],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.0
    },
    "description": "False positive guard — capital should NOT match BE api keyword"
  },
  {
    "id": "TC-017",
    "query": "crypto wallet implementation",
    "expected": {
      "systems": [],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.0
    },
    "description": "False positive guard — wallet should NOT match DB WAL keyword"
  },
  {
    "id": "TC-018",
    "query": "connect to the db",
    "expected": {
      "systems": ["DB"],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "Trailing keyword — db at end of string should still match"
  },
  {
    "id": "TC-019",
    "query": "indexing strategy for large tables",
    "expected": {
      "systems": ["DB"],
      "domains": ["A"],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "Derivative keyword — indexing (derivative of index) should match DB domain A"
  },
  {
    "id": "TC-020",
    "query": "DynamoDB에서 TPS 5000+ 처리량 최적화",
    "expected": {
      "systems": ["DB"],
      "domains": ["F"],
      "be_clusters": [],
      "min_confidence": 0.85
    },
    "description": "DynamoDB high-TPS query in Korean should map to DB domain F"
  },
  {
    "id": "TC-021",
    "query": "Optimize DynamoDB throughput at 7000 TPS with RCU WCU and hot partition mitigation",
    "expected": {
      "systems": ["DB"],
      "domains": ["F"],
      "be_clusters": [],
      "min_confidence": 0.85
    },
    "description": "DynamoDB high-TPS query in English should map to DB domain F"
  },
  {
    "id": "TC-022",
    "query": "API TPS 5000 rate limiting with retry and circuit breaker",
    "expected": {
      "systems": ["BE"],
      "domains": [],
      "be_clusters": ["R"],
      "min_confidence": 0.85
    },
    "description": "Throughput API query should stay in BE and avoid DB/F false positive"
  },
  {
    "id": "TC-023",
    "query": "Kubernetes HPA autoscaling for 5000 TPS service throughput",
    "expected": {
      "systems": ["IF"],
      "domains": [],
      "be_clusters": [],
      "min_confidence": 0.70
    },
    "description": "Throughput infrastructure query should stay in IF and avoid DB/F false positive"
  },
  {
    "id": "TC-024",
    "query": "how to implement OAuth2 with JWT token rotation",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["A"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster A — Authentication with OAuth2 and JWT"
  },
  {
    "id": "TC-025",
    "query": "RBAC vs ABAC for multi-tenant SaaS",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["Z"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster Z — Authorization model selection"
  },
  {
    "id": "TC-026",
    "query": "AES-256 encryption with key rotation using Vault",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["E"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster E — Encryption and key management"
  },
  {
    "id": "TC-027",
    "query": "configure CSP headers and CORS policy for SPA",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["N"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster N — Network security headers"
  },
  {
    "id": "TC-028",
    "query": "SOC2 compliance audit with GDPR data protection",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["C"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster C — Compliance and audit"
  },
  {
    "id": "TC-029",
    "query": "OWASP Top 10 vulnerability assessment with SBOM",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["V"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster V — Vulnerability and threat"
  },
  {
    "id": "TC-030",
    "query": "implement zero-trust with mTLS and RBAC",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["Z", "E", "C"],
      "min_confidence": 0.85
    },
    "description": "SE multi-cluster — AuthZ + Encryption + Compliance"
  },
  {
    "id": "TC-031",
    "query": "database encryption at rest with TLS for API",
    "expected": {
      "systems": ["DB", "BE", "SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["E"],
      "min_confidence": 0.60
    },
    "description": "Cross-system DB+BE+SE with SE Encryption cluster"
  },
  {
    "id": "TC-032",
    "query": "WAF rate limiting with XSS prevention and SAST",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["N", "V"],
      "min_confidence": 0.85
    },
    "description": "SE multi-cluster — Network + Vulnerability"
  },
  {
    "id": "TC-033",
    "query": "passkey WebAuthn implementation with session management",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["A"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster A — Passwordless authentication with sessions"
  },
  {
    "id": "TC-034",
    "query": "OPA policy engine with Cedar for authorization",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["Z"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster Z — Policy engine selection"
  },
  {
    "id": "TC-035",
    "query": "GDPR DPIA with PII masking and consent management",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["C"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster C — Privacy engineering"
  },
  {
    "id": "TC-036",
    "query": "STRIDE threat model with penetration test using Burp",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["V"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster V — Threat modeling and pentest"
  },
  {
    "id": "TC-037",
    "query": "passkey with ABAC policy and GDPR consent",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["A", "Z", "C"],
      "min_confidence": 0.85
    },
    "description": "SE multi-cluster — AuthN + AuthZ + Compliance (A+Z+C)"
  },
  {
    "id": "TC-038",
    "query": "biometric fingerprint authentication",
    "expected": {
      "systems": ["SE"],
      "domains": [],
      "be_clusters": [],
      "se_clusters": ["A"],
      "min_confidence": 0.85
    },
    "description": "SE Cluster A — Biometric authentication (Fix 6 keyword verification)"
  }
]
